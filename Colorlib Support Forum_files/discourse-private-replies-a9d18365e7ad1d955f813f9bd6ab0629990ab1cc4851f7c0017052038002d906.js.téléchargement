define("discourse/plugins/discourse-private-replies/discourse/connectors/category-custom-security/private-replies",["exports","@glimmer/component","@glimmer/tracking","@ember/object","@ember/service"],(function(e,t,i,r,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class l extends t.default{static#e=(()=>dt7948.g(this.prototype,"siteSettings",[s.inject]))()
#t=(()=>{dt7948.i(this,"siteSettings")})()
static#i=(()=>dt7948.g(this.prototype,"enabled_for_category",[i.tracked],(function(){return this.args.outletArgs.category.custom_fields.private_replies_enabled})))()
#r=(()=>{dt7948.i(this,"enabled_for_category")})()
constructor(){super(...arguments)}enable_for_category(e){this.enabled_for_category=e.target.checked}static#s=(()=>dt7948.n(this.prototype,"enable_for_category",[r.action]))()
get category_private_replies_enabled(){return 0==this.siteSettings.private_replies_on_selected_categories_only||this.enabled_for_category}}e.default=l})),define("discourse/plugins/discourse-private-replies/discourse/initializers/extend-for-private-replies",["exports","discourse/lib/plugin-api","discourse/lib/ajax","discourse/lib/ajax-error"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"extend-for-privatereplies",initialize(e){const s=e.lookup("site-settings:main")
s.private_replies_enabled&&(0,t.withPluginApi)("0.8.28",(e=>function(e,t,s){e.registerTopicFooterButton({id:"privatereplies",icon(){return this.get("topic.private_replies")?"far-eye":"far-eye-slash"},priority:250,title(){return`private_replies.button.${this.get("topic.private_replies")?"public_replies":"private_replies"}.help`},label(){return`private_replies.button.${this.get("topic.private_replies")?"public_replies":"private_replies"}.button`},action(){var e
if(this.get("topic.user_id"))return e=this.get("topic.private_replies")?"disable":"enable",(0,i.ajax)("/private_replies/"+e+".json",{type:"PUT",data:{topic_id:this.get("topic.id")}}).then((e=>{this.set("topic.private_replies",e.private_replies_enabled)})).catch(r.popupAjaxError)},dropdown(){return this.site.mobileView},classNames:["private-replies"],dependentKeys:["topic.private_replies"],displayed(){const e=this.get("topic.user_id")
var t=this.get("topic")
return!(0!=s.private_replies_on_selected_categories_only&&!t?.category?.custom_fields?.private_replies_enabled)&&this.currentUser&&(this.currentUser.id==e||this.currentUser.staff)}})}(e,0,s)))}}})),define("discourse/plugins/discourse-private-replies/discourse/templates/connectors/category-custom-security/private-replies",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createTemplateFactory)({id:"7mhSSGHL",block:'[[[41,[30,0,["siteSettings","private_replies_enabled"]],[[[1,"  "],[10,"section"],[12],[1,"\\n    "],[10,"h3"],[12],[1,[28,[35,1],["private_replies.title"],null]],[13],[1,"\\n  "],[13],[1,"\\n"],[41,[30,0,["siteSettings","private_replies_on_selected_categories_only"]],[[[1,"    "],[10,"section"],[14,0,"field category_private_replies_enabled"],[12],[1,"\\n        "],[10,"label"],[12],[1,"\\n        "],[8,[39,2],[[4,[38,3],["change",[30,0,["enable_for_category"]]],null]],[["@type","@checked"],["checkbox",[30,0,["args","outletArgs","category","custom_fields","private_replies_enabled"]]]],null],[1,"\\n        "],[1,[28,[35,1],["private_replies.private_replies_enabled"],null]],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[41,[30,0,["category_private_replies_enabled"]],[[[1,"    "],[10,"section"],[14,0,"field category_private_replies_default_enabled"],[12],[1,"\\n        "],[10,"label"],[12],[1,"\\n        "],[8,[39,2],null,[["@type","@checked"],["checkbox",[30,0,["args","outletArgs","category","custom_fields","private_replies_default_enabled"]]]],null],[1,"\\n        "],[1,[28,[35,1],["private_replies.category_default_enabled"],null]],[1,"\\n        "],[13],[1,"\\n        "],[10,1],[12],[1,[28,[35,1],["private_replies.category_default_subtext"],null]],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null]],[]],null]],[],false,["if","i18n","input","on"]]',moduleName:"discourse/plugins/discourse-private-replies/discourse/templates/connectors/category-custom-security/private-replies.hbs",isStrictMode:!1})})),define("discourse/plugins/discourse-private-replies/discourse/templates/connectors/topic-above-posts/privatereplies",["exports","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,i.createTemplateFactory)({id:"cCpPzD52",block:'[[[41,[30,0,["model","private_replies"]],[[[10,0],[14,0,"row"],[12],[1,"\\n  "],[10,0],[14,0,"post-notice custom"],[12],[1,"\\n    "],[1,[28,[35,1],["user-secret"],null]],[1,"\\n    "],[10,0],[12],[1,"\\n      "],[10,2],[12],[1,[28,[35,2],["private_replies.topic_banner_line_1"],null]],[13],[1,"\\n"],[41,[28,[37,3],[[30,0,["siteSettings","private_replies_topic_starter_primary_group_can_see_all"]],true],null],[[[1,"        "],[10,2],[12],[1,[28,[35,2],["private_replies.topic_banner_line_2_also_group"],null]],[13],[1,"\\n"]],[]],[[[1,"        "],[10,2],[12],[1,[28,[35,2],["private_replies.topic_banner_line_2"],null]],[13],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n"]],[]],null],[1,[28,[32,0],["[[\\"The `model` property path was used in the `discourse/plugins/discourse-private-replies/discourse/templates/connectors/topic-above-posts/privatereplies.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `siteSettings` property path was used in the `discourse/plugins/discourse-private-replies/discourse/templates/connectors/topic-above-posts/privatereplies.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.siteSettings}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],[],false,["if","d-icon","i18n","eq"]]',moduleName:"discourse/plugins/discourse-private-replies/discourse/templates/connectors/topic-above-posts/privatereplies.hbs",scope:()=>[t.default],isStrictMode:!1})}))

//# sourceMappingURL=discourse-private-replies-4283bf507085b6b84d284ea090798b39ad15bf2a46db9d62c88613593b53088c.map
//!

;
